<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Stay with me — Forever ❄️❤️</title>

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg1: #0f1724;   /* dunkles Winterblau */
      --bg2: #1b2b3a;   /* leichtes Nachtblau */
      --accent: #ff6b81;/* warmes Rosa/Rot */
      --glass: rgba(255,255,255,0.06);
      --card: rgba(255,255,255,0.06);
    }
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%}
    body{
      font-family: 'Inter', system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background: radial-gradient(1200px 800px at 10% 10%, rgba(255,255,255,0.02), transparent 10%),
                  linear-gradient(180deg, var(--bg1) 0%, var(--bg2) 100%);
      color:#f8fafc;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:32px;
      overflow:hidden;
    }

    /* Szene-Container */
    .scene{
      width:min(980px, 96vw);
      height:min(720px, 86vh);
      position:relative;
      border-radius:18px;
      box-shadow: 0 20px 60px rgba(2,6,23,0.6);
      overflow:hidden;
      display:flex;
      align-items:center;
      justify-content:center;
      background:
        linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)),
        url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="200"><defs><linearGradient id="g" x1="0" x2="0" y1="0" y2="1"><stop offset="0" stop-color="%23ffffff" stop-opacity="0.03"/><stop offset="1" stop-color="%23ffffff" stop-opacity="0.00"/></linearGradient></defs><rect width="100%" height="100%" fill="url(%23g)"/></svg>');
      backdrop-filter: blur(6px) saturate(120%);
    }

    /* Card */
    .card{
      z-index:3;
      width:78%;
      max-width:780px;
      text-align:center;
      padding:36px 42px;
      border-radius:14px;
      background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));
      border: 1px solid rgba(255,255,255,0.04);
      box-shadow: 0 10px 30px rgba(0,0,0,0.45), inset 0 1px 0 rgba(255,255,255,0.02);
    }

    h1{
      font-family: 'Playfair Display', serif;
      font-size: clamp(28px, 4.2vw, 48px);
      letter-spacing: -0.6px;
      margin-bottom:12px;
      color: #fff;
      text-shadow: 0 6px 30px rgba(11,20,35,0.6);
    }

    .subtitle{
      font-size: clamp(14px, 1.2vw, 18px);
      color: #e6eef8;
      margin-bottom:22px;
      opacity:0.95;
    }

    .line{
      height:2px;
      width:60px;
      background: linear-gradient(90deg, transparent, var(--accent), transparent);
      margin: 18px auto;
      border-radius:2px;
      box-shadow:0 6px 18px rgba(255,107,129,0.06);
    }

    /* Cozy box with decorative text */
    .cozy{
      display:flex;
      gap:18px;
      align-items:center;
      justify-content:center;
      margin-top:8px;
      flex-wrap:wrap;
    }

    .badge{
      padding:10px 18px;
      border-radius:999px;
      background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));
      border:1px solid rgba(255,255,255,0.03);
      font-weight:600;
      color:#fff;
      box-shadow:0 6px 18px rgba(11,20,35,0.45);
    }

    /* Controls */
    .controls{
      margin-top:20px;
      display:flex;
      gap:14px;
      align-items:center;
      justify-content:center;
    }

    .btn {
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:10px 16px;
      border-radius:12px;
      cursor:pointer;
      font-weight:600;
      border: none;
      background: linear-gradient(90deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));
      color: #fff;
      box-shadow: 0 8px 20px rgba(11,20,35,0.5);
      transition: transform .18s ease, box-shadow .18s ease;
    }
    .btn:active{ transform: translateY(2px) }
    .btn.play{
      background: linear-gradient(90deg, rgba(255,107,129,0.12), rgba(255,107,129,0.05));
      border: 1px solid rgba(255,107,129,0.12);
      color: #fff;
    }

    /* Snow and hearts canvas */
    .decoration{
      position:absolute;
      inset:0;
      z-index:2;
      pointer-events:none;
    }

    /* small footer note */
    .note{
      margin-top:14px;
      font-size:13px;
      color: #cfe6ff;
      opacity:0.9;
    }

    /* bottom cozy glow */
    .glow{
      position:absolute;
      bottom:-10%;
      left:50%;
      transform:translateX(-50%);
      width:120%;
      height:50%;
      background: radial-gradient(closest-side, rgba(255,107,129,0.06), transparent 40%);
      filter: blur(40px);
      z-index:1;
    }

    /* responsive adjustments */
    @media (max-width:720px){
      .card{ width:92%; padding:24px }
      .controls{ flex-direction:column; gap:8px }
    }
  </style>
</head>
<body>
  <div class="scene" role="main" aria-label="Romantische Seite für meine Freundin">
    <div class="card" id="card">
      <h1>Stay with me in cold time — forever</h1>
      <div class="subtitle">Wenn der Wind kalt weht, bleibst du meine Wärme.</div>
      <div class="line" aria-hidden="true"></div>

      <div class="cozy" aria-hidden="true">
        <div class="badge">Cozy nights</div>
        <div class="badge">Warm hugs</div>
        <div class="badge">Endless love</div>
      </div>

      <div class="controls" role="region" aria-label="Audio-Steuerung">
        <button class="btn play" id="playBtn" title="Play / Pause">
          <svg id="iconPlay" width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true" xmlns="http://www.w3.org/2000/svg">
            <path d="M5 3v18l15-9L5 3z" fill="currentColor"/>
          </svg>
          <span id="playLabel">Play Song</span>
        </button>

        <button class="btn" id="heartsToggle" title="Hearts/Schnee an/aus">
          ✨ Dekoration an/aus
        </button>
      </div>

      <div class="note">knbghik alala khadija bzfffffffffffffffffffff  , b9ay meaya dima 3afak , mn9drch n3ich bla bik </div>
    </div>

    <!-- Dekoration: Canvas für Schnee + Herzen -->
    <canvas class="decoration" id="decorCanvas" width="1200" height="800" aria-hidden="true"></canvas>

    <div class="glow" aria-hidden="true"></div>
  </div>

  <!-- Audio: lege song.mp3 in denselben Ordner oder ändere src -->
  <audio id="song" loop preload="auto">
    <source src="song.mp3" type="audio/mpeg">
    Dein Browser unterstützt kein Audio.
  </audio>

  <script>
    // --- Audio Logik ---
    const audio = document.getElementById('song');
    const playBtn = document.getElementById('playBtn');
    const playLabel = document.getElementById('playLabel');
    const iconPlay = document.getElementById('iconPlay');

    let isPlaying = false;

    function updatePlayUI(){
      if(isPlaying){
        playLabel.textContent = 'Pause';
        // Switch icon to pause
        iconPlay.innerHTML = '<path d="M6 19h4V5H6v14zM14 5v14h4V5h-4z" fill="currentColor"/>';
        playBtn.classList.remove('play');
      } else {
        playLabel.textContent = 'Play Song';
        iconPlay.innerHTML = '<path d="M5 3v18l15-9L5 3z" fill="currentColor"/>';
        playBtn.classList.add('play');
      }
    }

    // Try autoplay (may be blocked by browser policy)
    (async () => {
      try {
        audio.volume = 0.9;
        await audio.play();
        isPlaying = true;
        updatePlayUI();
      } catch(e){
        // Autoplay blocked — user must press play
        isPlaying = false;
        updatePlayUI();
      }
    })();

    playBtn.addEventListener('click', async () => {
      if(isPlaying){
        audio.pause();
        isPlaying = false;
        updatePlayUI();
      } else {
        try {
          await audio.play();
          isPlaying = true;
          updatePlayUI();
        } catch(err){
          // falls play fehlschlägt
          alert('Der Browser blockiert das automatische Abspielen. Bitte lade die Seite neu oder erlaube das Abspielen.');
        }
      }
    });

    // --- Canvas Dekoration: Schnee + Herzen ---
    const canvas = document.getElementById('decorCanvas');
    const ctx = canvas.getContext('2d');
    let W = canvas.width = canvas.clientWidth;
    let H = canvas.height = canvas.clientHeight;

    window.addEventListener('resize', () => {
      W = canvas.width = canvas.clientWidth;
      H = canvas.height = canvas.clientHeight;
    });

    // Partikel-Arrays
    const flakes = [];
    const hearts = [];

    // Create flakes
    function createFlake(){
      return {
        x: Math.random() * W,
        y: -10 - Math.random() * H * 0.2,
        r: 1 + Math.random()*3,
        vy: 0.4 + Math.random()*1.2,
        vx: -0.5 + Math.random()*1,
        opacity: 0.4 + Math.random()*0.6,
        type: 'flake'
      };
    }

    // Create hearts
    function createHeart(){
      return {
        x: Math.random() * W,
        y: H + 10,
        r: 8 + Math.random()*14,
        vy: -0.6 - Math.random()*1.6,
        vx: -1 + Math.random()*2,
        opacity: 0.85,
        wobble: Math.random()*0.02,
        type: 'heart'
      };
    }

    // fill initial arrays
    for(let i=0;i<80;i++) flakes.push(createFlake());
    for(let i=0;i<8;i++) hearts.push(createHeart());

    let decorOn = true;

    function draw(){
      ctx.clearRect(0,0,W,H);

      // softly tint background with radial glow
      const g = ctx.createRadialGradient(W*0.5, H*0.85, 10, W*0.5, H*0.85, Math.max(W,H));
      g.addColorStop(0, 'rgba(255,107,129,0.04)');
      g.addColorStop(1, 'rgba(0,0,0,0)');
      ctx.fillStyle = g;
      ctx.fillRect(0,0,W,H);

      if(decorOn){
        // draw flakes
        for(let f of flakes){
          ctx.beginPath();
          ctx.fillStyle = `rgba(255,255,255,${f.opacity})`;
          ctx.moveTo(f.x, f.y);
          ctx.arc(f.x, f.y, f.r, 0, Math.PI*2);
          ctx.fill();

          f.x += f.vx;
          f.y += f.vy;
          // wrap
          if(f.y > H + 20){
            Object.assign(f, createFlake());
            f.y = -10;
          }
          if(f.x < -50) f.x = W + 50;
          if(f.x > W + 50) f.x = -50;
        }

        // draw hearts (rise up)
        for(let h of hearts){
          // heart shape
          ctx.save();
          ctx.translate(h.x, h.y);
          ctx.scale(h.r/18, h.r/18);
          ctx.beginPath();
          ctx.fillStyle = `rgba(255,107,129,${h.opacity})`;
          ctx.moveTo(0,0);
          ctx.bezierCurveTo(0,-4, -8,-18, -18,-18);
          ctx.bezierCurveTo(-36,-18, -36,4, -36,4);
          ctx.bezierCurveTo(-36,28, -12,44, 0,60);
          ctx.bezierCurveTo(12,44, 36,28, 36,4);
          ctx.bezierCurveTo(36,4, 36,-18, 18,-18);
          ctx.bezierCurveTo(8,-18, 0,-4, 0,0);
          ctx.fill();
          ctx.restore();

          h.x += h.vx + Math.sin(h.y * h.wobble);
          h.y += h.vy;
          // reset when off top
          if(h.y < -80){
            Object.assign(h, createHeart());
            h.y = H + 10;
          }
        }
      }
      requestAnimationFrame(draw);
    }
    draw();

    // Toggle decor
    const heartsToggle = document.getElementById('heartsToggle');
    heartsToggle.addEventListener('click', () => {
      decorOn = !decorOn;
      heartsToggle.textContent = decorOn ? '✨ Dekoration an/aus' : '✨ Dekoration an/aus';
      // small visual feedback
      heartsToggle.animate([{transform:'scale(1)'},{transform:'scale(0.96)'}],{duration:140,fill:'forwards'});
    });

    // click to spawn a heart at pointer
    canvas.addEventListener('click', (e) => {
      const rect = canvas.getBoundingClientRect();
      const x = e.clientX - rect.left;
      const y = e.clientY - rect.top;
      // spawn few hearts
      for(let i=0;i<3;i++){
        hearts.push({
          x: x + (Math.random()*30-15),
          y: y + (Math.random()*30-15),
          r: 8 + Math.random()*12,
          vy: -1 - Math.random()*2,
          vx: -1 + Math.random()*2,
          opacity: 0.9,
          wobble: Math.random()*0.03,
          type: 'heart'
        });
      }
    });

  </script>
</body>
</html>
